<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TinyHtml Css Test</title>
    <script type="module">
      import { TinyHtml } from './src/v1/libs/TinyHtml.mjs';
      import { installWindowHiddenScript } from './src/v1/basics/html.mjs';
      window.TinyHtml = TinyHtml;
      TinyHtml.elemDebug = true;
      window.installWindowHiddenScript = installWindowHiddenScript;
    </script>
    <style>
      body {
        font-family: sans-serif;
        padding: 2rem;
      }
      #box {
        width: 150px;
        height: 150px;
        background-color: lightgray;
        margin-bottom: 1rem;
        transition: all 0.3s ease;
      }
      button {
        margin: 0.25rem;
      }
    </style>
  </head>
  <body>
    <div id="box">Box</div>

    <div>
      <button id="set-style">Set Style</button>
      <button id="get-style">Get Style</button>
      <button id="get-styles">Get Styles</button>
      <button id="remove-style">Remove Style</button>
      <button id="toggle-style">Toggle Color</button>
      <button id="clear-style">Clear All Inline Styles</button>
    </div>

    <script type="module">
      installWindowHiddenScript({
        onVisible: (data) => console.log(`Window visible status:`, data),
        onHidden: (data) => console.log(`Window hidden status:`, data),
      });

      const box = TinyHtml.getById('box');
      window.box = box;
      document.getElementById('set-style').addEventListener('click', () => {
        box.setStyle({ backgroundColor: 'tomato', borderRadius: '10px', borderStyle: 'dashed' });
      });

      document.getElementById('get-styles').addEventListener('click', () => {
        const val = box.style({ rawAttr: false, camelCase: true });
        alert(JSON.stringify(val));
      });

      document.getElementById('get-style').addEventListener('click', () => {
        const val = box.getStyle('backgroundColor');
        alert('backgroundColor: ' + val);
      });

      document.getElementById('remove-style').addEventListener('click', () => {
        box.removeStyle(['backgroundColor', 'borderRadius']);
      });

      document.getElementById('toggle-style').addEventListener('click', () => {
        box.toggleStyle('backgroundColor', 'tomato', 'skyblue');
      });

      document.getElementById('clear-style').addEventListener('click', () => {
        box.clearStyle();
      });
    </script>
  </body>
</html>
